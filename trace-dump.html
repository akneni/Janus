<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TLC Trace Dump</title>
<style>
:root {
  --bg:#0c0f12; --panel:#131820; --panel2:#0f141b;
  --fg:#e6edf3; --fg-dim:#9aa7b3; --line:#1c2430;
  --pill:#0b3a97; --pill-fg:#cfe2ff;
  --changed-bg:#3a0e12;           /* dark red */
  --changed-border:#66252b;       /* subtle red border */
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --sans: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
}
* { box-sizing: border-box; }
html, body { margin:0; padding:0; background:var(--bg); color:var(--fg); font-family:var(--sans); }
header { padding:20px; border-bottom:1px solid var(--line); background:var(--panel2); position:sticky; top:0; z-index:10; }
header h1 { margin:0 0 6px 0; font-size:18px; font-weight:600; }
header .meta { color:var(--fg-dim); font-size:12px; }

main { max-width:1200px; margin:24px auto; padding:0 16px 64px; }
.state { border:1px solid var(--line); border-radius:12px; overflow:hidden; margin:14px 0; background:var(--panel); }
.hdr {
  width:100%; text-align:left; background:transparent; border:0; color:var(--fg);
  padding:14px 16px; display:flex; align-items:center; gap:12px; cursor:pointer;
}
.hdr:hover { background:var(--panel2); }
.title { font-weight:600; }
.pill { background:var(--pill); color:var(--pill-fg); border-radius:999px; padding:2px 8px; font-size:12px; font-family:var(--mono); }
.chev { margin-left:auto; color:var(--fg-dim); transition: transform .15s ease; }
.hdr[aria-expanded="true"] .chev { transform: rotate(90deg); }

.body { padding:0 16px 16px; background:var(--panel); }
.kv { width:100%; border-collapse:collapse; border-spacing:0; }
.kv thead th {
  position:sticky; top:0; background:var(--panel2); color:var(--fg-dim);
  font-size:12px; text-transform:uppercase; letter-spacing:.06em; padding:10px; text-align:left;
  border-bottom:1px solid var(--line);
}
.kv td { vertical-align:top; border-bottom:1px solid var(--line); }
.kv .vk {
  white-space:nowrap; width:220px; color:var(--fg-dim); font-family:var(--mono);
  padding:10px; border-right:1px solid var(--line); background:var(--panel2);
}
.kv .vv { padding:10px; }
.kv .vv.changed {
  background:var(--changed-bg);
  border:1px solid var(--changed-border);
  border-radius:8px;
}
pre {
  margin:0; font-family:var(--mono); font-size:12.5px; line-height:1.45;
  white-space:pre-wrap; word-break:break-word; color:var(--fg);
}
.empty { color:var(--fg-dim); text-align:center; padding:14px; }
footer { color:var(--fg-dim); font-size:12px; text-align:center; padding:24px 0; }
</style>
<script>
function toggle(btn) {
  const body = btn.nextElementSibling;
  const expanded = btn.getAttribute('aria-expanded') === 'true';
  btn.setAttribute('aria-expanded', String(!expanded));
  body.hidden = expanded;
}
</script>
</head>
<body>
<header>
  <h1>TLC Trace Dump</h1>
  <div class="meta">3 states</div>
</header>
<main>
  
        <section class="state">
            <button class="hdr" onclick="toggle(this)" aria-expanded="false">
                <span class="pill">#1</span>
                <span class="title">Initial predicate</span>
                <span class="chev">▸</span>
            </button>
            <div class="body" hidden>
                <table class="kv">
                    <thead><tr><th>Variable</th><th>Value</th></tr></thead>
                    <tbody>
                        <tr>
                        <td class="vk">ActivatedNode</td>
                        <td class="vv"><pre>&quot;none&quot;</pre></td>
                    </tr>
<tr>
                        <td class="vk">CommittedIdx</td>
                        <td class="vv"><pre>[
  d2 |-&gt; [index |-&gt; 0, term |-&gt; 0],
  d1 |-&gt; [index |-&gt; 0, term |-&gt; 0],
  e1 |-&gt; [index |-&gt; 0, term |-&gt; 0]
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">CurrentLeader</td>
                        <td class="vv"><pre>[
  d2 |-&gt; &quot;none&quot;,
  d1 |-&gt; &quot;none&quot;,
  e1 |-&gt; &quot;none&quot;
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">DmlLog</td>
                        <td class="vv"><pre>[d2 |-&gt; &lt;&lt;&gt;&gt;, d1 |-&gt; &lt;&lt;&gt;&gt;]</pre></td>
                    </tr>
<tr>
                        <td class="vk">LoggedIdx</td>
                        <td class="vv"><pre>[
  d2 |-&gt; [index |-&gt; 0, term |-&gt; 0],
  d1 |-&gt; [index |-&gt; 0, term |-&gt; 0]
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Messages</td>
                        <td class="vv"><pre>&lt;&lt;&gt;&gt;</pre></td>
                    </tr>
<tr>
                        <td class="vk">Nodes</td>
                        <td class="vv"><pre>{&quot;d2&quot;, &quot;d1&quot;, &quot;e1&quot;}</pre></td>
                    </tr>
<tr>
                        <td class="vk">NumFailures</td>
                        <td class="vv"><pre>0</pre></td>
                    </tr>
<tr>
                        <td class="vk">ReplicationFactor</td>
                        <td class="vv"><pre>[d2 |-&gt; 2, d1 |-&gt; 2, e1 |-&gt; 2]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Restarted</td>
                        <td class="vv"><pre>[
  d2 |-&gt; FALSE,
  d1 |-&gt; FALSE,
  e1 |-&gt; FALSE
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Role</td>
                        <td class="vv"><pre>[
  d2 |-&gt; &quot;follower&quot;,
  d1 |-&gt; &quot;follower&quot;,
  e1 |-&gt; &quot;elector&quot;
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Term</td>
                        <td class="vv"><pre>[
  d2 |-&gt; 0,
  d1 |-&gt; 0,
  e1 |-&gt; 0]
]</pre></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <section class="state">
            <button class="hdr" onclick="toggle(this)" aria-expanded="false">
                <span class="pill">#2</span>
                <span class="title">FollowerSendInitWorkload</span>
                <span class="chev">▸</span>
            </button>
            <div class="body" hidden>
                <table class="kv">
                    <thead><tr><th>Variable</th><th>Value</th></tr></thead>
                    <tbody>
                        <tr>
                        <td class="vk">ActivatedNode</td>
                        <td class="vv changed"><pre>&quot;d2&quot;</pre></td>
                    </tr>
<tr>
                        <td class="vk">CommittedIdx</td>
                        <td class="vv"><pre>[
  d2 |-&gt; [index |-&gt; 0, term |-&gt; 0],
  d1 |-&gt; [index |-&gt; 0, term |-&gt; 0],
  e1 |-&gt; [index |-&gt; 0, term |-&gt; 0]
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">CurrentLeader</td>
                        <td class="vv"><pre>[
  d2 |-&gt; &quot;none&quot;,
  d1 |-&gt; &quot;none&quot;,
  e1 |-&gt; &quot;none&quot;
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">DmlLog</td>
                        <td class="vv"><pre>[d2 |-&gt; &lt;&lt;&gt;&gt;, d1 |-&gt; &lt;&lt;&gt;&gt;]</pre></td>
                    </tr>
<tr>
                        <td class="vk">LoggedIdx</td>
                        <td class="vv"><pre>[
  d2 |-&gt; [index |-&gt; 0, term |-&gt; 0],
  d1 |-&gt; [index |-&gt; 0, term |-&gt; 0]
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Messages</td>
                        <td class="vv changed"><pre>&lt;&lt;
  [term |-&gt; 0, destination |-&gt; &quot;d1&quot;, source |-&gt; &quot;d2&quot;, rpc_type |-&gt; &quot;InitWorkload&quot;, RF |-&gt; 2, logged_index |-&gt; [index |-&gt; 0, term |-&gt; 0]]
&gt;&gt;</pre></td>
                    </tr>
<tr>
                        <td class="vk">Nodes</td>
                        <td class="vv"><pre>{&quot;d2&quot;, &quot;d1&quot;, &quot;e1&quot;}</pre></td>
                    </tr>
<tr>
                        <td class="vk">NumFailures</td>
                        <td class="vv"><pre>0</pre></td>
                    </tr>
<tr>
                        <td class="vk">ReplicationFactor</td>
                        <td class="vv"><pre>[d2 |-&gt; 2, d1 |-&gt; 2, e1 |-&gt; 2]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Restarted</td>
                        <td class="vv"><pre>[
  d2 |-&gt; FALSE,
  d1 |-&gt; FALSE,
  e1 |-&gt; FALSE
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Role</td>
                        <td class="vv changed"><pre>[
  d2 |-&gt; &quot;candidate&quot;,
  d1 |-&gt; &quot;follower&quot;,
  e1 |-&gt; &quot;elector&quot;
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Term</td>
                        <td class="vv"><pre>[
  d2 |-&gt; 0,
  d1 |-&gt; 0,
  e1 |-&gt; 0]
]</pre></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </section>
        <section class="state">
            <button class="hdr" onclick="toggle(this)" aria-expanded="false">
                <span class="pill">#3</span>
                <span class="title">HardResetWipeMsgs</span>
                <span class="chev">▸</span>
            </button>
            <div class="body" hidden>
                <table class="kv">
                    <thead><tr><th>Variable</th><th>Value</th></tr></thead>
                    <tbody>
                        <tr>
                        <td class="vk">ActivatedNode</td>
                        <td class="vv changed"><pre>&quot;d1&quot;</pre></td>
                    </tr>
<tr>
                        <td class="vk">CommittedIdx</td>
                        <td class="vv"><pre>[
  d2 |-&gt; [index |-&gt; 0, term |-&gt; 0],
  d1 |-&gt; [index |-&gt; 0, term |-&gt; 0],
  e1 |-&gt; [index |-&gt; 0, term |-&gt; 0]
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">CurrentLeader</td>
                        <td class="vv changed"><pre>[
  d2 |-&gt; &quot;none&quot;,
  d1 |-&gt; &quot;d2&quot;,
  e1 |-&gt; &quot;none&quot;
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">DmlLog</td>
                        <td class="vv"><pre>[d2 |-&gt; &lt;&lt;&gt;&gt;, d1 |-&gt; &lt;&lt;&gt;&gt;]</pre></td>
                    </tr>
<tr>
                        <td class="vk">LoggedIdx</td>
                        <td class="vv"><pre>[
  d2 |-&gt; [index |-&gt; 0, term |-&gt; 0],
  d1 |-&gt; [index |-&gt; 0, term |-&gt; 0]
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Messages</td>
                        <td class="vv changed"><pre>&lt;&lt;&gt;&gt;</pre></td>
                    </tr>
<tr>
                        <td class="vk">Nodes</td>
                        <td class="vv"><pre>{&quot;d2&quot;, &quot;d1&quot;, &quot;e1&quot;}</pre></td>
                    </tr>
<tr>
                        <td class="vk">NumFailures</td>
                        <td class="vv changed"><pre>1</pre></td>
                    </tr>
<tr>
                        <td class="vk">ReplicationFactor</td>
                        <td class="vv"><pre>[d2 |-&gt; 2, d1 |-&gt; 2, e1 |-&gt; 2]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Restarted</td>
                        <td class="vv changed"><pre>[
  d2 |-&gt; FALSE,
  d1 |-&gt; TRUE,
  e1 |-&gt; FALSE
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Role</td>
                        <td class="vv"><pre>[
  d2 |-&gt; &quot;candidate&quot;,
  d1 |-&gt; &quot;follower&quot;,
  e1 |-&gt; &quot;elector&quot;
]</pre></td>
                    </tr>
<tr>
                        <td class="vk">Term</td>
                        <td class="vv changed"><pre>[d2 |-&gt; 0, d1 |-&gt; 0, e1 |-&gt; 0]
]
&gt;&gt;</pre></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </section>
</main>
<footer>Generated by utils/tla-etv.py</footer>
</body>
</html>